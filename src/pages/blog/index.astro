---
import { PostsPage } from "@components/posts/posts-page"
import ContentLayout from "@layouts/ContentLayout.astro"
import { getPageCount, getPageItems } from "@lib/paginate"
import { getSortedPosts } from "@lib/post"

const allPosts = await getSortedPosts()
const pages = getPageCount(allPosts)

const posts = getPageItems(allPosts, 0, 10)
---

<ContentLayout title="Blog" showTitle={false}>
  <PostsPage posts={posts} page={0} pages={pages} slot="main" />
</ContentLayout>

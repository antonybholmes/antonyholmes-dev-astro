---
import { type ILayoutProps } from "@interfaces/layout-props"
import { cn } from "@lib/class-names"
import BaseLayout from "./BaseLayout.astro"
import { Header, type IHeaderChildrenProps } from "@components/header/header"

export interface Props extends ILayoutProps, IHeaderChildrenProps {
  headerClassName?: string
}

let {
  title,
  tab,
  headerLeftChildren,
  headerRightChildren,
  headerCenterChildren,
  headerClassName = "bg-gradient-to-r from-cyan-500 to-indigo-600 text-white",
  className,
} = Astro.props

if (!tab) {
  tab = title
}
---

<BaseLayout title={title}>
  <slot name="head" slot="head" />
  <div slot="main">
    <Header
      headerLeftChildren={headerLeftChildren}
      headerRightChildren={headerRightChildren}
      className={headerClassName}
    >
      {headerCenterChildren}
    </Header>

    <main class={cn("w-full min-h-screen", className)}>
      <slot name="main" />
    </main>
  </div>
  <slot name="end" slot="end" />
</BaseLayout>
